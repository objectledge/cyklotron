<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id: maven.xml,v 1.5 2005-08-10 05:30:59 rafal Exp $ -->
<project xmlns:j="jelly:core"
         xmlns:util="jelly:util"
         xmlns:ant="jelly:ant">
         
    <preGoal name="jar:jar">
      <attainGoal name="ledge:version-jar"/>
	  <attainGoal name="ledge:index-jar"/>
	</preGoal>   
	
	<postGoal name="jar:install">
	  <attainGoal name="ledge:ci-rename"/>
	</postGoal>      
	
	<preGoal name="war:war">
      <attainGoal name="ledge:repackage-content"/>
      <attainGoal name="ledge:version-war"/>
      <attainGoal name="ledge:version-war-html"/>
      <attainGoal name="ledge:index-war"/>
	</preGoal>

	<postGoal name="war:install-snapshot">
	  <attainGoal name="ledge:ci-rename"/>
	</postGoal>      
         
   <!-- reports -->
         
   <j:if test="${pom.build != null}">
     <j:if test="${!empty(pom.build.unitTestSourceDirectory)}">
       <util:file var="testDir" name="${pom.build.unitTestSourceDirectory}"/>
       <j:if test="${testDir.exists()}">
        <postGoal name="xdoc:register-reports">
          <attainGoal name="maven-clover-plugin:register"/>
        </postGoal>
       </j:if>
     </j:if>
   </j:if>
    
</project>         